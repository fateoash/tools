(()=>{var e={};e.id=791,e.ids=[791],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8076:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(6874),r(9966),r(5866);var s=r(3191),n=r(8716),a=r(7922),i=r.n(a),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["popular",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6874)),"/Users/tianyue/Documents/GitHub/tools/src/app/popular/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9966)),"/Users/tianyue/Documents/GitHub/tools/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/tianyue/Documents/GitHub/tools/src/app/popular/page.tsx"],u="/popular/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/popular/page",pathname:"/popular",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6561:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},4739:(e,t,r)=>{Promise.resolve().then(r.bind(r,6498))},8394:(e,t,r)=>{Promise.resolve().then(r.bind(r,8175))},8175:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(326),n=r(7577),a=Object.defineProperty,i=new Map,o=new WeakMap,l=0,d=void 0;n.Component;var c=r(8927),u=r(6619),m=r(3045);function x(){let[e,t]=(0,n.useState)("week"),[r,a]=(0,n.useState)([]),[x,p]=(0,n.useState)(!1),[h,g]=(0,n.useState)(null),[f,v]=(0,n.useState)(!0);(0,n.useRef)(1);let{ref:b,inView:y}=function({threshold:e,delay:t,trackVisibility:r,rootMargin:s,root:a,triggerOnce:c,skip:u,initialInView:m,fallbackInView:x,onChange:p}={}){var h;let[g,f]=n.useState(null),v=n.useRef(p),[b,y]=n.useState({inView:!!m,entry:void 0});v.current=p,n.useEffect(()=>{let n;if(!u&&g)return n=function(e,t,r={},s=d){if(void 0===window.IntersectionObserver&&void 0!==s){let n=e.getBoundingClientRect();return t(s,{isIntersecting:s,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),()=>{}}let{id:n,observer:a,elements:c}=function(e){let t=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var r;return`${t}_${"root"===t?(r=e.root)?(o.has(r)||(l+=1,o.set(r,l.toString())),o.get(r)):"0":e[t]}`}).toString(),r=i.get(t);if(!r){let s;let n=new Map,a=new IntersectionObserver(t=>{t.forEach(t=>{var r;let a=t.isIntersecting&&s.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(r=n.get(t.target))||r.forEach(e=>{e(a,t)})})},e);s=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:a,elements:n},i.set(t,r)}return r}(r),u=c.get(e)||[];return c.has(e)||c.set(e,u),u.push(t),a.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(c.delete(e),a.unobserve(e)),0===c.size&&(a.disconnect(),i.delete(n))}}(g,(e,t)=>{y({inView:e,entry:t}),v.current&&v.current(e,t),t.isIntersecting&&c&&n&&(n(),n=void 0)},{root:a,rootMargin:s,threshold:e,trackVisibility:r,delay:t},x),()=>{n&&n()}},[Array.isArray(e)?e.toString():e,g,a,s,c,u,r,x,t]);let j=null==(h=b.entry)?void 0:h.target,N=n.useRef(void 0);g||!j||c||u||N.current===j||(N.current=j,y({inView:!!m,entry:void 0}));let w=[f,b.inView,b.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}({threshold:0,rootMargin:"100px"});return(0,s.jsxs)(c.Z,{children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsx(u.Z,{children:"Popular Items"})}),s.jsx(m.Z,{products:r}),f&&s.jsx("div",{ref:b,className:"flex justify-center py-8",children:x?s.jsx("div",{className:"animate-pulse text-gray-500",children:"Loading more items..."}):s.jsx("div",{className:"h-10"})}),!f&&r.length>0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No more items to load"}),h&&s.jsx("div",{className:"text-center py-8 text-red-500",children:h})]})}},3045:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(326),n=r(6226),a=r(434);let i=(0,r(6557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function o({children:e,className:t=""}){return s.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow ${t}`,children:e})}function l({id:e,title:t,price:r,imageUrl:l,views:d,channel:c}){return s.jsx(a.default,{href:`/item/${e}?channel=${c||"weidian"}`,className:"block w-full group",children:(0,s.jsxs)(o,{className:"w-full sm:max-w-[280px] mx-auto",children:[s.jsx("div",{className:"relative aspect-square",children:s.jsx(n.default,{src:l,alt:t,fill:!0,className:"object-cover rounded-t-lg"})}),(0,s.jsxs)("div",{className:"p-2.5 sm:p-4",children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium line-clamp-2 mb-1.5 sm:mb-2 group-hover:text-orange-500 transition-colors",children:t}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-base sm:text-lg font-medium",children:[s.jsx("span",{className:"text-xs sm:text-sm font-normal",children:"\xa5"}),r]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[s.jsx(i,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:d})]})]})]})]})})}function d({products:e,children:t,className:r=""}){return(0,s.jsxs)("div",{className:`
      grid auto-cols-fr gap-3
      grid-cols-[repeat(auto-fit,minmax(160px,1fr))]
      sm:grid-cols-2 sm:gap-4
      lg:grid-cols-3 lg:gap-6 
      xl:grid-cols-4
      ${r}
    `,children:[e.map(e=>s.jsx(l,{...e},e.id)),t]})}},6498:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(326),n=r(7577),a=r(434),i=r(5047),o=r(8307);function l({icon:e,error:t,className:r="",...n}){return(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{className:`
          w-full h-10 rounded-lg pl-4 pr-10 text-sm
          border bg-gray-50 dark:bg-gray-900 
          transition-all duration-200
          ${t?"border-red-500 focus:ring-red-500 dark:border-red-500 dark:focus:ring-red-500":"border-gray-200 dark:border-gray-700 focus:ring-orange-500/20 focus:border-orange-500 dark:focus:ring-orange-500/20 dark:focus:border-orange-500"}
          focus:outline-none focus:ring-4
          ${r}
        `,...n}),e&&s.jsx("div",{className:"absolute right-3 top-2.5 text-gray-400",children:e})]})}function d(){let e=(0,i.useRouter)(),[t,r]=(0,n.useState)(""),[a,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),m=async r=>{if(r.preventDefault(),d(""),!t.trim()){d("Please enter a URL");return}u(!0);try{let r=await fetch(`https://api.findlink.top/product/analysisLink?link=${encodeURIComponent(t.trim())}`,{method:"GET",headers:{Accept:"application/json"}}),s=await r.json();s.success&&s.result?.itemId?e.push(`/item/${s.result.itemId}?channel=${s.result.channel}`):e.push(`/item/not-found?url=${encodeURIComponent(t)}`)}catch(e){d("Failed to analyze URL. Please try again."),console.error("Search error:",e)}finally{u(!1)}};return s.jsx("form",{onSubmit:m,className:"flex-1 max-w-3xl",children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(l,{value:t,onChange:e=>r(e.target.value),placeholder:"https://item.taobao.com/item.htm?id=...",disabled:c,icon:s.jsx("button",{type:"submit",disabled:c,className:"disabled:opacity-50",children:s.jsx(o.Z,{className:`h-5 w-5 hover:text-gray-700 dark:hover:text-gray-300 transition-colors
                ${c?"animate-spin":""}`})}),error:a}),a&&s.jsx("div",{className:"absolute -bottom-6 left-0 text-sm text-red-500",children:a})]})})}function c(){let[e,t]=(0,n.useState)(!1);return s.jsx("header",{className:"bg-white dark:bg-gray-950 border-b border-gray-100 dark:border-gray-800",children:s.jsx("div",{className:"container mx-auto px-3 h-14 sm:h-16 sm:px-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 py-2 sm:py-0",children:[s.jsx(a.default,{href:"/",className:"flex-shrink-0",children:s.jsx("span",{className:"text-xl sm:text-2xl font-bold text-orange-500",children:"FINDLink."})}),s.jsx("div",{className:"flex-1 max-w-2xl w-full",children:s.jsx(d,{})})]})})})}},8927:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(326);function n({children:e,className:t=""}){return s.jsx("div",{className:`container mx-auto px-4 py-8 ${t}`,children:e})}},6619:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(326);function n({children:e,className:t=""}){return s.jsx("h1",{className:`text-2xl font-medium mb-8 ${t}`,children:e})}},9966:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>o});var s=r(9510),n=r(5317),a=r.n(n);r(5023);let i=(0,r(8570).createProxy)(String.raw`/Users/tianyue/Documents/GitHub/tools/src/components/layout/Header.tsx#default`),o={title:"FINDLink",description:"Find your favorite items",icons:{icon:[{url:"/logo.svg",type:"image/svg+xml"}],shortcut:["/logo.svg"],apple:[{url:"/logo.svg",type:"image/svg+xml"}]}};function l({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:a().className,children:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx(i,{}),s.jsx("main",{children:e})]})})})}},6874:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/tianyue/Documents/GitHub/tools/src/app/popular/page.tsx#default`)},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[813,226],()=>r(8076));module.exports=s})();